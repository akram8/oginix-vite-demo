import{d as L,X as F,u as R,s as S,R as $,S as E,a as G,y as J,A as M,o as j,aJ as z,c as d,B as u,e as r,f as c,j as b,k as p,ay as A,H as D,I as H,J as _,G as h,t as f,h as U,i as X,L as k}from"./index-f97ca1e0.js";import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";const K={key:0,class:"layout-navbars-breadcrumb"},O={key:0,class:"layout-navbars-breadcrumb-span"},P={key:1},Q={key:2},W=["onClick"],Y=L({name:"layoutBreadcrumb"}),Z=L({...Y,setup(ee){const B=F(),I=R(),{themeConfig:o}=S(I),{routesList:g}=S(B),i=$(),y=E(),e=G({breadcrumbList:[],routeSplit:[],routeSplitFirst:"",routeSplitIndex:1}),w=J(()=>{l(i.path);const{layout:t,isBreadcrumb:a}=o.value;return t==="classic"||t==="transverse"?!1:!!a}),x=t=>{const{redirect:a,path:n}=t;a?y.push(a):y.push(n)},N=()=>{o.value.isCollapse=!o.value.isCollapse,V()},V=()=>{k.remove("themeConfig"),k.set("themeConfig",o.value)},v=t=>{t.forEach(a=>{e.routeSplit.forEach((n,C,m)=>{e.routeSplitFirst===a.path&&(e.routeSplitFirst+=`/${m[e.routeSplitIndex]}`,e.breadcrumbList.push(a),e.routeSplitIndex++,a.children&&v(a.children))})})},l=t=>{if(!o.value.isBreadcrumb)return!1;e.breadcrumbList=[g.value[0]],e.routeSplit=t.split("/"),e.routeSplit.shift(),e.routeSplitFirst=`/${e.routeSplit[0]}`,e.routeSplitIndex=1,v(g.value),(i.name==="home"||i.name==="notFound"&&e.breadcrumbList.length>1)&&e.breadcrumbList.shift(),e.breadcrumbList.length>0&&(e.breadcrumbList[e.breadcrumbList.length-1].meta.tagsViewName=M.setTagsViewNameI18n(i))};return j(()=>{l(i.path)}),z(t=>{l(t.path)}),(t,a)=>{const n=d("SvgIcon"),C=d("el-breadcrumb-item"),m=d("el-breadcrumb");return u(w)?(r(),c("div",K,[b(n,{class:"layout-navbars-breadcrumb-icon",name:u(o).isCollapse?"ele-Expand":"ele-Fold",size:16,onClick:N},null,8,["name"]),b(m,{class:"layout-navbars-breadcrumb-hide"},{default:p(()=>[b(A,{name:"breadcrumb"},{default:p(()=>[(r(!0),c(D,null,H(e.breadcrumbList,(s,T)=>(r(),_(C,{key:s.meta.tagsViewName?s.meta.tagsViewName:s.meta.title},{default:p(()=>[T===e.breadcrumbList.length-1?(r(),c("span",O,[u(o).isBreadcrumbIcon?(r(),_(n,{key:0,name:s.meta.icon,class:"layout-navbars-breadcrumb-iconfont"},null,8,["name"])):h("",!0),s.meta.tagsViewName?(r(),c("div",Q,f(s.meta.tagsViewName),1)):(r(),c("div",P,f(t.$t(s.meta.title)),1))])):(r(),c("a",{key:1,onClick:U(te=>x(s),["prevent"])},[u(o).isBreadcrumbIcon?(r(),_(n,{key:0,name:s.meta.icon,class:"layout-navbars-breadcrumb-iconfont"},null,8,["name"])):h("",!0),X(f(t.$t(s.meta.title)),1)],8,W))]),_:2},1024))),128))]),_:1})]),_:1})])):h("",!0)}}});const re=q(Z,[["__scopeId","data-v-e188cc7b"]]);export{re as default};
