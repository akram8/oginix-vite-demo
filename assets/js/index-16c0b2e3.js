import{a as m}from"./element-plus-3b133bec.js";import{k as g,e as w,$ as S,ah as t,o,c as u,W as n,Q as a,F as V,a9 as k,a as i,U as v,n as A,P as p,T as f,V as E}from"./@vue-d9027515.js";import"./lodash-es-36eb724a.js";import"./@vueuse-2d9216d7.js";import"./@element-plus-96a31696.js";import"./@popperjs-c75af06c.js";import"./@ctrl-f8748455.js";import"./dayjs-6aac7dfa.js";import"./@intlify-9e8a497c.js";import"./source-map-7d7e1c08.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./escape-html-1d60d822.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-682dc3ac.js";const M={class:"layout-pd"},P={key:0,class:"color-danger"},Q={class:"pl5"},W=i("i",{class:"iconfont icon-quanxian"},null,-1),j=i("i",{class:"iconfont icon-shouye_dongtaihui"},null,-1),G={class:"flex-margin"},H=g({name:"pagesTableRules"}),se=g({...H,setup(I){const b=w(),c=w(),d=S({tableData:{data:[],header:[{prop:"a1",width:"",label:"一级分类",isRequired:!0,type:"select"},{prop:"a2",width:"",label:"二级分类",isRequired:!0,type:"select"},{prop:"a3",width:"",label:"三级分类",isRequired:!0,type:"select"},{prop:"a4",width:"",label:"四级分类",isRequired:!0,type:"date"},{prop:"a5",width:"",label:"五级分类",isRequired:!0,type:"input"},{prop:"a6",width:"",label:"六级分类",isTooltip:!0,type:"dialog"},{prop:"a7",width:"",label:"演示级分类",type:"input"},{prop:"a8",width:"",label:"颜色是分类",type:"input"}],option:[{value:"选项1",label:"黄金糕"},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"}]}}),R=_=>{if(d.tableData.data.length<=0)return m.warning("请先点击增加一行");_&&_.validate(s=>{if(!s)return m.warning("表格项必填未填");m.success("全部验证通过")})},x=()=>{d.tableData.data.push({a1:"",a2:"",a3:"",a4:"",a5:"",a6:"",a7:"",a8:""}),c.value.doLayout(),A(()=>{c.value.setScrollTop(1e6)})};return(_,s)=>{const q=t("el-tooltip"),U=t("el-option"),D=t("el-select"),T=t("el-date-picker"),h=t("el-input"),C=t("el-form-item"),$=t("el-table-column"),B=t("el-table"),N=t("el-form"),y=t("el-button"),z=t("el-row"),F=t("el-card");return o(),u("div",M,[n(F,{shadow:"hover",header:"表单表格验证"},{default:a(()=>[n(N,{ref_key:"tableRulesRef",ref:b,model:d.tableData,size:"default"},{default:a(()=>[n(B,{ref_key:"tableRef",ref:c,data:d.tableData.data,border:"",class:"module-table-uncollected","max-height":"200"},{default:a(()=>[(o(!0),u(V,null,k(d.tableData.header,(e,L)=>(o(),p($,{key:L,"show-overflow-tooltip":"",prop:e.prop,width:e.width,label:e.label},{header:a(()=>[e.isRequired?(o(),u("span",P,"*")):f("",!0),i("span",Q,E(e.label),1),e.isTooltip?(o(),p(q,{key:1,effect:"dark",content:"这是tooltip",placement:"top"},{default:a(()=>[W]),_:1})):f("",!0)]),default:a(r=>[n(C,{prop:`data.${r.$index}.${e.prop}`,rules:[{required:e.isRequired,message:"不能为空",trigger:`${e.type}`=="input"?"blur":"change"}]},{default:a(()=>[e.type==="select"?(o(),p(D,{key:0,modelValue:r.row[e.prop],"onUpdate:modelValue":l=>r.row[e.prop]=l,placeholder:"请选择"},{default:a(()=>[(o(!0),u(V,null,k(d.tableData.option,l=>(o(),p(U,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):e.type==="date"?(o(),p(T,{key:1,modelValue:r.row[e.prop],"onUpdate:modelValue":l=>r.row[e.prop]=l,type:"date",placeholder:"选择日期",style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"])):e.type==="input"?(o(),p(h,{key:2,modelValue:r.row[e.prop],"onUpdate:modelValue":l=>r.row[e.prop]=l,placeholder:"请输入内容"},null,8,["modelValue","onUpdate:modelValue"])):e.type==="dialog"?(o(),p(h,{key:3,modelValue:r.row[e.prop],"onUpdate:modelValue":l=>r.row[e.prop]=l,readonly:"",placeholder:"请输入内容"},{suffix:a(()=>[j]),_:2},1032,["modelValue","onUpdate:modelValue"])):f("",!0)]),_:2},1032,["prop","rules"])]),_:2},1032,["prop","width","label"]))),128))]),_:1},8,["data"])]),_:1},8,["model"]),n(z,{class:"flex mt15"},{default:a(()=>[i("div",G,[n(y,{size:"default",type:"success",onClick:s[0]||(s[0]=e=>R(b.value))},{default:a(()=>[v("表格验证")]),_:1}),n(y,{size:"default",type:"primary",onClick:x},{default:a(()=>[v("新增一行")]),_:1})])]),_:1})]),_:1})])}}});export{se as default};
