import{d as _,x as y,u as C,s as w,a as k,y as L,o as U,c as i,e as V,f as N,j as a,k as n,g as s,t,i as d,B,L as p}from"./index-f97ca1e0.js";import{_ as G}from"./_plugin-vue_export-helper-c27b6911.js";const $={class:"upgrade-dialog"},E={class:"upgrade-title"},O={class:"upgrade-title-warp"},z={class:"upgrade-title-warp-txt"},A={class:"upgrade-title-warp-version"},H={class:"upgrade-content"},I={class:"mt5"},S={class:"upgrade-content-desc mt5"},j={class:"upgrade-btn"},D=_({name:"layoutUpgrade"}),M=_({...D,setup(R){const{t:l}=y(),g=C(),{themeConfig:u}=w(g),e=k({isUpgrade:!1,version:"0.0.0",isLoading:!1,btnTxt:""}),m=L(()=>u.value),f=()=>{e.isUpgrade=!1},v=()=>{e.isLoading=!0,e.btnTxt=l("message.upgrade.btnTwoLoading"),setTimeout(()=>{p.clear(),window.location.reload(),p.set("version",e.version)},2e3)},h=()=>{setTimeout(()=>{e.isUpgrade=!0},2e3)};return U(()=>{h(),setTimeout(()=>{e.btnTxt=l("message.upgrade.btnTwo")},200)}),(o,r)=>{const b=i("el-link"),c=i("el-button"),T=i("el-dialog");return V(),N("div",$,[a(T,{modelValue:e.isUpgrade,"onUpdate:modelValue":r[0]||(r[0]=x=>e.isUpgrade=x),width:"300px","destroy-on-close":"","show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1},{default:n(()=>[s("div",E,[s("div",O,[s("span",z,t(o.$t("message.upgrade.title")),1),s("span",A,"v"+t(e.version),1)])]),s("div",H,[d(t(B(m).globalTitle)+" "+t(o.$t("message.upgrade.msg"))+" ",1),s("div",I,[a(b,{type:"primary",class:"font12",href:"https://github.com/akram8/oginix-vite-demo/blob/master/CHANGELOG.md",target:"_black"},{default:n(()=>[d(" CHANGELOG.md ")]),_:1})]),s("div",S,t(o.$t("message.upgrade.desc")),1)]),s("div",j,[a(c,{round:"",size:"default",type:"info",text:"",onClick:f},{default:n(()=>[d(t(o.$t("message.upgrade.btnOne")),1)]),_:1}),a(c,{type:"primary",round:"",size:"default",onClick:v,loading:e.isLoading},{default:n(()=>[d(t(e.btnTxt),1)]),_:1},8,["loading"])])]),_:1},8,["modelValue"])])}}});const J=G(M,[["__scopeId","data-v-51f5949e"]]);export{J as default};
