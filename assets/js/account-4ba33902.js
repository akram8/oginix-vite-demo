import{d as P,x as b,u as U,s as $,R as q,S as B,a as D,y as E,c as a,Y as z,e as _,J as f,k as e,j as o,g as y,n as A,w as v,i as j,t as J,V,a1 as M,aA as O,aB as L,E as N,az as Y}from"./index-f97ca1e0.js";import{a as G}from"./formatTime-29ac8c52.js";import{_ as H}from"./_plugin-vue_export-helper-c27b6911.js";const K=P({name:"loginAccount"}),Q=P({...K,setup(W){const{t:S}=b(),C=U(),{themeConfig:I}=$(C),u=q(),g=B(),s=D({isShowPassword:!1,ruleForm:{userName:"admin",password:"123456",code:"1234"},loading:{signIn:!1}}),k=E(()=>G(new Date)),F=async()=>{if(s.loading.signIn=!0,V.set("token",Math.random().toString(36).substr(0)),M.set("userName",s.ruleForm.userName),I.value.isRequestRoutes){const n=await L();w(n)}else{const n=await O();w(n)}},w=n=>{var t,m,l,r;if(n)N.warning("抱歉，您没有登录权限"),V.clear();else{let c=k.value;(t=u.query)!=null&&t.redirect?g.push({path:(m=u.query)==null?void 0:m.redirect,query:Object.keys((l=u.query)==null?void 0:l.params).length>0?JSON.parse((r=u.query)==null?void 0:r.params):""}):g.push("/");const d=S("message.signInText");N.success(`${c}，${d}`),Y.start()}s.loading.signIn=!1};return(n,t)=>{const m=a("ele-User"),l=a("el-icon"),r=a("el-input"),c=a("el-form-item"),d=a("ele-Unlock"),T=a("ele-Position"),p=a("el-col"),h=a("el-button"),R=a("el-form"),x=z("waves");return _(),f(R,{size:"large",class:"login-content-form"},{default:e(()=>[o(c,{class:"login-animation1"},{default:e(()=>[o(r,{text:"",placeholder:n.$t("message.account.accountPlaceholder1"),modelValue:s.ruleForm.userName,"onUpdate:modelValue":t[0]||(t[0]=i=>s.ruleForm.userName=i),clearable:"",autocomplete:"off"},{prefix:e(()=>[o(l,{class:"el-input__icon"},{default:e(()=>[o(m)]),_:1})]),_:1},8,["placeholder","modelValue"])]),_:1}),o(c,{class:"login-animation2"},{default:e(()=>[o(r,{type:s.isShowPassword?"text":"password",placeholder:n.$t("message.account.accountPlaceholder2"),modelValue:s.ruleForm.password,"onUpdate:modelValue":t[2]||(t[2]=i=>s.ruleForm.password=i),autocomplete:"off"},{prefix:e(()=>[o(l,{class:"el-input__icon"},{default:e(()=>[o(d)]),_:1})]),suffix:e(()=>[y("i",{class:A(["iconfont el-input__icon login-content-password",s.isShowPassword?"icon-yincangmima":"icon-xianshimima"]),onClick:t[1]||(t[1]=i=>s.isShowPassword=!s.isShowPassword)},null,2)]),_:1},8,["type","placeholder","modelValue"])]),_:1}),o(c,{class:"login-animation3"},{default:e(()=>[o(p,{span:15},{default:e(()=>[o(r,{text:"",maxlength:"4",placeholder:n.$t("message.account.accountPlaceholder3"),modelValue:s.ruleForm.code,"onUpdate:modelValue":t[3]||(t[3]=i=>s.ruleForm.code=i),clearable:"",autocomplete:"off"},{prefix:e(()=>[o(l,{class:"el-input__icon"},{default:e(()=>[o(T)]),_:1})]),_:1},8,["placeholder","modelValue"])]),_:1}),o(p,{span:1}),o(p,{span:8},{default:e(()=>[v((_(),f(h,{class:"login-content-code"},{default:e(()=>[j("1234")]),_:1})),[[x]])]),_:1})]),_:1}),o(c,{class:"login-animation4"},{default:e(()=>[v((_(),f(h,{type:"primary",class:"login-content-submit",round:"",onClick:F,loading:s.loading.signIn},{default:e(()=>[y("span",null,J(n.$t("message.account.accountBtnText")),1)]),_:1},8,["loading"])),[[x]])]),_:1})]),_:1})}}});const oe=H(Q,[["__scopeId","data-v-58ea2e44"]]);export{oe as default};
