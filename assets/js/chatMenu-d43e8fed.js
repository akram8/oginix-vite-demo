import{M as k}from"./@element-plus-6327e551.js";import{m as M}from"./pinyin-pro-53c31d3c.js";import{I as V}from"./index-4b9d308a.js";import{k as h,$ as C,j as F,i as I,ah as m,ar as U,o as n,c as i,a as r,W as s,u as b,Q as l,U as d,R as B,F as N,a9 as S,V as u}from"./@vue-d9027515.js";import{_ as Y}from"./plugin-vueexport-helper-c27b6911.js";import"./pinia-a73ffef5.js";import"./vue-demi-71ba0ef2.js";import"./vue-router-a2fac16f.js";import"./vue-i18n-e0b9a81d.js";import"./@intlify-9e8a497c.js";import"./source-map-7d7e1c08.js";import"./vue-b46b26c7.js";import"./js-cookie-cf83ad76.js";import"./nprogress-8d2808ea.js";import"./axios-aba6f0e0.js";import"./qs-bbfcbdf3.js";import"./side-channel-eafc5c70.js";import"./get-intrinsic-b9397c9a.js";import"./has-symbols-e8f3ca0e.js";import"./function-bind-22e7ee79.js";import"./has-26d28e02.js";import"./call-bind-9ceb8f5b.js";import"./object-inspect-7b08a46e.js";import"./element-plus-08547807.js";import"./lodash-es-36eb724a.js";import"./@vueuse-2d9216d7.js";import"./@popperjs-c75af06c.js";import"./@ctrl-f8748455.js";import"./dayjs-6aac7dfa.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./escape-html-1d60d822.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-682dc3ac.js";import"./mitt-f7ef348c.js";import"./vue-grid-layout-0ee01be3.js";function L(_){return V({url:"https://yapi.pro/mock/222138/oginix/chat/users",method:"get",data:_})}const T={class:"chant-menu-container"},j={class:"search-panel"},E={class:"menu-panel"},P={class:"item-avatar"},Q=["src"],R={key:1},W={class:"item-name"},$={class:"user"},q={class:"message text-ellipsis"},z={class:"item-time"},A=h({name:"chatMenu"}),G=h({...A,setup(_){const t=C({userData:[],filterData:[],search:"",loading:!1}),f=e=>new Date(e).getFullYear()===new Date().getFullYear(),g=e=>!f(e)||new Date(e).getMonth()+1!==new Date().getMonth()+1?!1:new Date(e).getDay()===new Date().getDay(),v=e=>{if(e=="")return"";const c=e.split(" "),o=c[0].split("-");return g(e)?c[1]:f(e)?o[1]+"月"+o[2]+"日":o[0]+"年"+o[1]+"月"+o[2]+"日"},D=()=>{t.loading=!0,L().then(e=>{e.code==200&&(t.userData=e.data),t.loading=!1}).finally(()=>{t.loading=!1})};return t.filterData=F(()=>t.search?t.userData.filter(e=>e.name.includes(t.search)||M(e.name,t.search,{continuous:!0})):t.userData),I(()=>{D()}),(e,c)=>{const o=m("el-input"),w=m("SvgIcon"),p=m("el-dropdown-item"),y=m("el-dropdown"),x=U("loading");return n(),i("div",T,[r("div",j,[s(o,{modelValue:t.search,"onUpdate:modelValue":c[0]||(c[0]=a=>t.search=a),class:"w-50 m-2",placeholder:"搜索",clearable:"","prefix-icon":b(k)},null,8,["modelValue","prefix-icon"]),s(y,{trigger:"click",placement:"bottom-end"},{dropdown:l(()=>[s(p,null,{default:l(()=>[d("创建群组")]),_:1}),s(p,null,{default:l(()=>[d("添加外部联系人")]),_:1}),s(p,null,{default:l(()=>[d("创建文档")]),_:1}),s(p,null,{default:l(()=>[d("加入会议")]),_:1})]),default:l(()=>[s(w,{name:"ele-CirclePlus",class:"plusIocn"})]),_:1})]),B((n(),i("div",E,[(n(!0),i(N,null,S(t.filterData,a=>(n(),i("div",{class:"menu-item",key:a.id},[r("div",P,[a.avatar.length>0?(n(),i("img",{key:0,src:a.avatar},null,8,Q)):(n(),i("span",R,u(a.name.substring(0,2)),1))]),r("div",W,[r("div",$,u(a.name),1),r("div",q,[r("span",null,u(a.lastMessage),1)])]),r("div",z,u(v(a.time)),1)]))),128))])),[[x,t.loading]])])}}});const be=Y(G,[["__scopeId","data-v-37d96fd2"]]);export{be as default};
