import{d as w,M as C,_ as b,r as x,X as D,u as P,F as N,s as f,a as z,y as L,N as H,z as i,P as I,c as g,w as O,v as j,B as n,e as F,f as q,j as y,k as S,J as $,G,n as J}from"./index-f97ca1e0.js";const X={class:"h100"},K=w({name:"layoutAside"}),Y=w({...K,setup(Q){const A=C(()=>b(()=>import("./index-13397b2f.js"),["assets/js/index-13397b2f.js","assets/js/index-f97ca1e0.js","assets/css/index-a7bdd87a.css","assets/js/logo-mini-36d25161.js","assets/js/_plugin-vue_export-helper-c27b6911.js","assets/css/index-e424b95a.css"])),M=C(()=>b(()=>import("./vertical-34dc3ebf.js"),["assets/js/vertical-34dc3ebf.js","assets/js/index-f97ca1e0.js","assets/css/index-a7bdd87a.css"])),r=x(),p=D(),R=P(),T=N(),{routesList:B}=f(p),{themeConfig:s}=f(R),{isTagsViewCurrenFull:E}=f(T),a=z({menuList:[],clientWidth:0}),V=L(()=>{const{layout:e,isCollapse:t,menuBar:o}=s.value,l=["#FFFFFF","#FFF","#fff","#ffffff"].includes(o)?"layout-el-aside-br-color":"";if(a.clientWidth<=1e3)if(t){document.body.setAttribute("class","el-popup-parent--hidden");const k=document.querySelector(".layout-container"),m=document.createElement("div");return m.setAttribute("class","layout-aside-mobile-mode"),k.appendChild(m),m.addEventListener("click",c),[l,"layout-aside-mobile","layout-aside-mobile-open"]}else return c(),[l,"layout-aside-mobile","layout-aside-mobile-close"];else return e==="columns"||e==="classic"?t?[l,"layout-aside-pc-1"]:[l,"layout-aside-pc-220"]:t?[l,"layout-aside-pc-64"]:[l,"layout-aside-pc-220"]}),W=L(()=>{let{layout:e,isShowLogo:t}=s.value;return t&&e==="defaults"||t&&e==="columns"}),c=()=>{const e=document.querySelector(".layout-aside-mobile-mode");e==null||e.setAttribute("style","animation: error-img-two 0.3s"),setTimeout(()=>{var o;(o=e==null?void 0:e.parentNode)==null||o.removeChild(e)},300),document.body.clientWidth<1e3&&(s.value.isCollapse=!1),document.body.setAttribute("class","")},d=()=>{if(s.value.layout==="columns")return!1;a.menuList=v(B.value)},v=e=>e.filter(t=>{var o;return!((o=t.meta)!=null&&o.isHide)}).map(t=>(t=Object.assign({},t),t.children&&(t.children=v(t.children)),t)),h=e=>{a.clientWidth=e},_=e=>{let{layout:t}=s.value;if(t!=="columns")return!1;e||i.emit("restoreDefault"),s.value.isColumnsMenuHoverPreload&&p.setColumnsMenuHover(e)};return H(()=>{h(document.body.clientWidth),d(),i.on("setSendColumnsChildren",e=>{a.menuList=e.children}),i.on("setSendClassicChildren",e=>{let{layout:t,isClassicSplitMenu:o}=s.value;t==="classic"&&o&&(e.children.length<=1?s.value.isCollapse=!0:s.value.isCollapse=!1,a.menuList=[],a.menuList=e.children)}),i.on("getBreadcrumbIndexSetFilterRoutes",()=>{d()}),i.on("layoutMobileResize",e=>{h(e.clientWidth),c()})}),I(()=>[s.value.isShowLogoChange,s.value.isShowLogo,s.value.layout,s.value.isClassicSplitMenu],([e,t,o,u])=>{if(e!==t&&r.value&&r.value.update(),o==="classic"&&u)return!1;d()}),(e,t)=>{const o=g("el-scrollbar"),u=g("el-aside");return O((F(),q("div",X,[y(u,{class:J(["layout-aside",n(V)])},{default:S(()=>[n(W)?(F(),$(n(A),{key:0})):G("",!0),y(o,{class:"flex-auto",ref_key:"layoutAsideScrollbarRef",ref:r,onMouseenter:t[0]||(t[0]=l=>_(!0)),onMouseleave:t[1]||(t[1]=l=>_(!1))},{default:S(()=>[y(n(M),{menuList:a.menuList},null,8,["menuList"])]),_:1},512)]),_:1},8,["class"])],512)),[[j,!n(E)]])}}});export{Y as default};
