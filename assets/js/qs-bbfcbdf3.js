import{s as q}from"./side-channel-eafc5c70.js";var ee=String.prototype.replace,re=/%20/g,Q={RFC1738:"RFC1738",RFC3986:"RFC3986"},z={default:Q.RFC3986,formatters:{RFC1738:function(a){return ee.call(a,re,"+")},RFC3986:function(a){return String(a)}},RFC1738:Q.RFC1738,RFC3986:Q.RFC3986},ne=z,$=Object.prototype.hasOwnProperty,O=Array.isArray,b=function(){for(var a=[],e=0;e<256;++e)a.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return a}(),ae=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(O(n)){for(var i=[],u=0;u<n.length;++u)typeof n[u]<"u"&&i.push(n[u]);r.obj[r.prop]=i}}},K=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},te=function a(e,r,n){if(!r)return e;if(typeof r!="object"){if(O(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!$.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return O(e)&&!O(r)&&(i=K(e,n)),O(e)&&O(r)?(r.forEach(function(u,f){if($.call(e,f)){var o=e[f];o&&typeof o=="object"&&u&&typeof u=="object"?e[f]=a(o,u,n):e.push(u)}else e[f]=u}),e):Object.keys(r).reduce(function(u,f){var o=r[f];return $.call(u,f)?u[f]=a(u[f],o,n):u[f]=o,u},i)},ie=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},fe=function(a,e,r){var n=a.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},le=function(e,r,n,i,u){if(e.length===0)return e;var f=e;if(typeof e=="symbol"?f=Symbol.prototype.toString.call(e):typeof e!="string"&&(f=String(e)),n==="iso-8859-1")return escape(f).replace(/%u[0-9a-f]{4}/gi,function(s){return"%26%23"+parseInt(s.slice(2),16)+"%3B"});for(var o="",l=0;l<f.length;++l){var t=f.charCodeAt(l);if(t===45||t===46||t===95||t===126||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122||u===ne.RFC1738&&(t===40||t===41)){o+=f.charAt(l);continue}if(t<128){o=o+b[t];continue}if(t<2048){o=o+(b[192|t>>6]+b[128|t&63]);continue}if(t<55296||t>=57344){o=o+(b[224|t>>12]+b[128|t>>6&63]+b[128|t&63]);continue}l+=1,t=65536+((t&1023)<<10|f.charCodeAt(l)&1023),o+=b[240|t>>18]+b[128|t>>12&63]+b[128|t>>6&63]+b[128|t&63]}return o},oe=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var u=r[i],f=u.obj[u.prop],o=Object.keys(f),l=0;l<o.length;++l){var t=o[l],s=f[t];typeof s=="object"&&s!==null&&n.indexOf(s)===-1&&(r.push({obj:f,prop:t}),n.push(s))}return ae(r),e},ue=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},ce=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},se=function(e,r){return[].concat(e,r)},de=function(e,r){if(O(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},G={arrayToObject:K,assign:ie,combine:se,compact:oe,decode:fe,encode:le,isBuffer:ce,isRegExp:ue,maybeMap:de,merge:te},W=q,P=G,F=z,ye=Object.prototype.hasOwnProperty,k={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},g=Array.isArray,me=Array.prototype.push,J=function(a,e){me.apply(a,g(e)?e:[e])},ve=Date.prototype.toISOString,U=F.default,m={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:P.encode,encodeValuesOnly:!1,format:U,formatter:F.formatters[U],indices:!1,serializeDate:function(e){return ve.call(e)},skipNulls:!1,strictNullHandling:!1},pe=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},L={},he=function a(e,r,n,i,u,f,o,l,t,s,p,h,v,d,w,C){for(var c=e,N=C,E=0,B=!1;(N=N.get(L))!==void 0&&!B;){var I=N.get(e);if(E+=1,typeof I<"u"){if(I===E)throw new RangeError("Cyclic object value");B=!0}typeof N.get(L)>"u"&&(E=0)}if(typeof l=="function"?c=l(r,c):c instanceof Date?c=p(c):n==="comma"&&g(c)&&(c=P.maybeMap(c,function(R){return R instanceof Date?p(R):R})),c===null){if(u)return o&&!d?o(r,m.encoder,w,"key",h):r;c=""}if(pe(c)||P.isBuffer(c)){if(o){var Y=d?r:o(r,m.encoder,w,"key",h);return[v(Y)+"="+v(o(c,m.encoder,w,"value",h))]}return[v(r)+"="+v(String(c))]}var D=[];if(typeof c>"u")return D;var j;if(n==="comma"&&g(c))d&&o&&(c=P.maybeMap(c,o)),j=[{value:c.length>0?c.join(",")||null:void 0}];else if(g(l))j=l;else{var M=Object.keys(c);j=t?M.sort(t):M}for(var A=i&&g(c)&&c.length===1?r+"[]":r,T=0;T<j.length;++T){var x=j[T],V=typeof x=="object"&&typeof x.value<"u"?x.value:c[x];if(!(f&&V===null)){var Z=g(c)?typeof n=="function"?n(A,x):A:A+(s?"."+x:"["+x+"]");C.set(e,E);var _=W();_.set(L,C),J(D,a(V,Z,n,i,u,f,n==="comma"&&d&&g(c)?null:o,l,t,s,p,h,v,d,w,_))}}return D},be=function(e){if(!e)return m;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||m.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=F.default;if(typeof e.format<"u"){if(!ye.call(F.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=F.formatters[n],u=m.filter;return(typeof e.filter=="function"||g(e.filter))&&(u=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:m.addQueryPrefix,allowDots:typeof e.allowDots>"u"?m.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:m.charsetSentinel,delimiter:typeof e.delimiter>"u"?m.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:m.encode,encoder:typeof e.encoder=="function"?e.encoder:m.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:m.encodeValuesOnly,filter:u,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:m.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:m.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:m.strictNullHandling}},ge=function(a,e){var r=a,n=be(e),i,u;typeof n.filter=="function"?(u=n.filter,r=u("",r)):g(n.filter)&&(u=n.filter,i=u);var f=[];if(typeof r!="object"||r===null)return"";var o;e&&e.arrayFormat in k?o=e.arrayFormat:e&&"indices"in e?o=e.indices?"indices":"repeat":o="indices";var l=k[o];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var t=l==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var s=W(),p=0;p<i.length;++p){var h=i[p];n.skipNulls&&r[h]===null||J(f,he(r[h],h,l,t,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,s))}var v=f.join(n.delimiter),d=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),v.length>0?d+v:""},S=G,H=Object.prototype.hasOwnProperty,xe=Array.isArray,y={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:S.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Oe=function(a){return a.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},X=function(a,e){return a&&typeof a=="string"&&e.comma&&a.indexOf(",")>-1?a.split(","):a},we="utf8=%26%2310003%3B",Se="utf8=%E2%9C%93",je=function(e,r){var n={},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,u=r.parameterLimit===1/0?void 0:r.parameterLimit,f=i.split(r.delimiter,u),o=-1,l,t=r.charset;if(r.charsetSentinel)for(l=0;l<f.length;++l)f[l].indexOf("utf8=")===0&&(f[l]===Se?t="utf-8":f[l]===we&&(t="iso-8859-1"),o=l,l=f.length);for(l=0;l<f.length;++l)if(l!==o){var s=f[l],p=s.indexOf("]="),h=p===-1?s.indexOf("="):p+1,v,d;h===-1?(v=r.decoder(s,y.decoder,t,"key"),d=r.strictNullHandling?null:""):(v=r.decoder(s.slice(0,h),y.decoder,t,"key"),d=S.maybeMap(X(s.slice(h+1),r),function(w){return r.decoder(w,y.decoder,t,"value")})),d&&r.interpretNumericEntities&&t==="iso-8859-1"&&(d=Oe(d)),s.indexOf("[]=")>-1&&(d=xe(d)?[d]:d),H.call(n,v)?n[v]=S.combine(n[v],d):n[v]=d}return n},Fe=function(a,e,r,n){for(var i=n?e:X(e,r),u=a.length-1;u>=0;--u){var f,o=a[u];if(o==="[]"&&r.parseArrays)f=[].concat(i);else{f=r.plainObjects?Object.create(null):{};var l=o.charAt(0)==="["&&o.charAt(o.length-1)==="]"?o.slice(1,-1):o,t=parseInt(l,10);!r.parseArrays&&l===""?f={0:i}:!isNaN(t)&&o!==l&&String(t)===l&&t>=0&&r.parseArrays&&t<=r.arrayLimit?(f=[],f[t]=i):l!=="__proto__"&&(f[l]=i)}i=f}return i},Ne=function(e,r,n,i){if(e){var u=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,f=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,l=n.depth>0&&f.exec(u),t=l?u.slice(0,l.index):u,s=[];if(t){if(!n.plainObjects&&H.call(Object.prototype,t)&&!n.allowPrototypes)return;s.push(t)}for(var p=0;n.depth>0&&(l=o.exec(u))!==null&&p<n.depth;){if(p+=1,!n.plainObjects&&H.call(Object.prototype,l[1].slice(1,-1))&&!n.allowPrototypes)return;s.push(l[1])}return l&&s.push("["+u.slice(l.index)+"]"),Fe(s,r,n,i)}},Ee=function(e){if(!e)return y;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?y.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?y.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:y.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:y.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:y.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:y.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:y.comma,decoder:typeof e.decoder=="function"?e.decoder:y.decoder,delimiter:typeof e.delimiter=="string"||S.isRegExp(e.delimiter)?e.delimiter:y.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:y.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:y.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:y.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:y.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:y.strictNullHandling}},Pe=function(a,e){var r=Ee(e);if(a===""||a===null||typeof a>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof a=="string"?je(a,r):a,i=r.plainObjects?Object.create(null):{},u=Object.keys(n),f=0;f<u.length;++f){var o=u[f],l=Ne(o,n[o],r,typeof a=="string");i=S.merge(i,l,r)}return r.allowSparse===!0?i:S.compact(i)},Ce=ge,De=Pe,Ae=z,Re={formats:Ae,parse:De,stringify:Ce};export{Re as l};
