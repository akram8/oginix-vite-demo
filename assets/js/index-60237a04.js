import{d as L,M as W,_ as F,r as E,a as N,y as R,o as G,P as M,c as d,e as x,f as S,j as i,k as f,J as $,n as U,g as _,t as j,B as r,m as J}from"./index-f97ca1e0.js";import{i as P}from"./getStyleSheets-5de41919.js";const q={class:"icon-selector w100 h100"},H={class:"icon-selector-warp"},K={class:"icon-selector-warp-title"},Q=L({name:"iconSelector"}),Z=L({...Q,props:{prepend:{type:String,default:()=>"ele-Pointer"},placeholder:{type:String,default:()=>"请输入内容搜索图标或者选择图标"},size:{type:String,default:()=>"default"},title:{type:String,default:()=>"请选择图标"},disabled:{type:Boolean,default:()=>!1},clearable:{type:Boolean,default:()=>!0},emptyDescription:{type:String,default:()=>"无相关图标"},modelValue:String},emits:["update:modelValue","get","clear"],setup(o,{emit:u}){const l=o,p=W(()=>F(()=>import("./list-46c3b63d.js"),["assets/js/list-46c3b63d.js","assets/js/index-f97ca1e0.js","assets/css/index-a7bdd87a.css","assets/js/_plugin-vue_export-helper-c27b6911.js","assets/css/list-2b48e177.css"])),s=E(),e=N({fontIconPrefix:"",fontIconWidth:0,fontIconSearch:"",fontIconPlaceholder:"",fontIconTabActive:"ali",fontIconList:{ali:[],ele:[],awe:[]}}),C=()=>{if(!l.modelValue)return!1;e.fontIconSearch="",e.fontIconPlaceholder=l.modelValue},k=()=>{const t=y();setTimeout(()=>{t.filter(a=>a===e.fontIconSearch).length<=0&&(e.fontIconSearch="")},300)},I=R(()=>{const t=y();if(!e.fontIconSearch)return t;let n=e.fontIconSearch.trim().toLowerCase();return t.filter(a=>{if(a.toLowerCase().indexOf(n)!==-1)return a})}),y=()=>{let t=[];return e.fontIconTabActive==="ali"?t=e.fontIconList.ali:e.fontIconTabActive==="ele"?t=e.fontIconList.ele:e.fontIconTabActive==="awe"&&(t=e.fontIconList.awe),t},b=()=>{if(l.modelValue==="")return e.fontIconPlaceholder=l.placeholder;e.fontIconPlaceholder=l.modelValue,e.fontIconPrefix=l.modelValue},v=()=>{let t="ali";return l.modelValue.indexOf("iconfont")>-1?t="ali":l.modelValue.indexOf("ele-")>-1?t="ele":l.modelValue.indexOf("fa")>-1&&(t="awe"),e.fontIconTabActive=t,t},w=async t=>{if(t==="ali"){if(e.fontIconList.ali.length>0)return;await P.ali().then(n=>{e.fontIconList.ali=n.map(a=>`iconfont ${a}`)})}else if(t==="ele"){if(e.fontIconList.ele.length>0)return;await P.ele().then(n=>{e.fontIconList.ele=n})}else if(t==="awe"){if(e.fontIconList.awe.length>0)return;await P.awe().then(n=>{e.fontIconList.awe=n.map(a=>`fa ${a}`)})}e.fontIconPlaceholder=l.placeholder,b()},T=t=>{w(t.paneName),s.value.focus()},m=t=>{e.fontIconPlaceholder=t,e.fontIconPrefix=t,u("get",e.fontIconPrefix),u("update:modelValue",e.fontIconPrefix),s.value.focus()},z=()=>{e.fontIconPrefix="",u("clear",e.fontIconPrefix),u("update:modelValue",e.fontIconPrefix)},V=()=>{J(()=>{e.fontIconWidth=s.value.$el.offsetWidth})},A=()=>{window.addEventListener("resize",()=>{V()})};return G(()=>{w(v()),A(),V()}),M(()=>l.modelValue,()=>{b(),v()}),(t,n)=>{const a=d("SvgIcon"),B=d("el-input"),h=d("el-tab-pane"),D=d("el-tabs"),O=d("el-popover");return x(),S("div",q,[i(B,{modelValue:e.fontIconSearch,"onUpdate:modelValue":n[0]||(n[0]=c=>e.fontIconSearch=c),placeholder:e.fontIconPlaceholder,clearable:o.clearable,disabled:o.disabled,size:o.size,ref_key:"inputWidthRef",ref:s,onClear:z,onFocus:C,onBlur:k},{prepend:f(()=>{var c,g;return[(e.fontIconPrefix===""?((c=o.prepend)==null?void 0:c.indexOf("ele-"))>-1:((g=e.fontIconPrefix)==null?void 0:g.indexOf("ele-"))>-1)?(x(),$(a,{key:0,name:e.fontIconPrefix===""?o.prepend:e.fontIconPrefix,class:"font14"},null,8,["name"])):(x(),S("i",{key:1,class:U([e.fontIconPrefix===""?o.prepend:e.fontIconPrefix,"font14"])},null,2))]}),_:1},8,["modelValue","placeholder","clearable","disabled","size"]),i(O,{placement:"bottom",width:e.fontIconWidth,transition:"el-zoom-in-top","popper-class":"icon-selector-popper",trigger:"click","virtual-ref":s.value,"virtual-triggering":""},{default:f(()=>[_("div",H,[_("div",K,j(o.title),1),i(D,{modelValue:e.fontIconTabActive,"onUpdate:modelValue":n[1]||(n[1]=c=>e.fontIconTabActive=c),onTabClick:T},{default:f(()=>[i(h,{lazy:"",label:"ali",name:"ali"},{default:f(()=>[i(r(p),{list:r(I),empty:o.emptyDescription,prefix:e.fontIconPrefix,onGetIcon:m},null,8,["list","empty","prefix"])]),_:1}),i(h,{lazy:"",label:"ele",name:"ele"},{default:f(()=>[i(r(p),{list:r(I),empty:o.emptyDescription,prefix:e.fontIconPrefix,onGetIcon:m},null,8,["list","empty","prefix"])]),_:1}),i(h,{lazy:"",label:"awe",name:"awe"},{default:f(()=>[i(r(p),{list:r(I),empty:o.emptyDescription,prefix:e.fontIconPrefix,onGetIcon:m},null,8,["list","empty","prefix"])]),_:1})]),_:1},8,["modelValue"])])]),_:1},8,["width","virtual-ref"])])}}});export{Z as default};
